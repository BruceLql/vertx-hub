<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Hello CommonJS!</title>
</head>
<body>
<div id="log"></div>

<script src="/hub/webroot/sockjs.js"></script>
<script src="/hub/webroot/vertx-eventbus.js"></script>
<script src="/hub/webroot/hub.js"></script>
<script>
// 测试TOKEN 请使用 test目录下的 BuildTestToken
// 第三方安装方法参考：https://github.com/sililau/jwt-rsa
var token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJtb2JpbGUiOiIxNTAwMDM2MjIwOCIsInVzZXJJZCI6IjExMTExMTExMTExIiwiY2FsbEJhY2siOiJodHRwOi8vd3d3LmJhaWR1LmNvbSIsIm5hbWUiOiLmtYvor5VuYW1lIiwiY2lkIjoiMjIyMjIyMjIyMjIyMjIiLCJub3RpZnlVcmwiOiJodHRwczovL3d3dy5oYW8xMjMuY29tIiwibm9uY2UiOiJodHRwOi8vd3d3LmJhaWR1LmNvbSIsImlhdCI6MTU4OTUwOTUyNX0.l1_cM6BEVL0oCGOmxL8u2h0WlPoN_9ZhQsV1BO8TvnA";
var hub = new Hub('http://127.0.0.1:8088/socket?token=' + token);
hub.message = function(err, message) {
  console.log(err);
  console.log(message)
};
hub.start(15000208771, 'CMCC').
then(function (value) {
  console.log(value)

}).catch(function (reason) {
  console.log(reason)

})

// hub.send('FOF.DAQ.HUB.SERVER.SOCKET.PROXY',{"msg":"1"}).then(function (value) {
//   console.log(value)
// }).catch(function (reason) {
//   console.log(reason)
// })
</script>

</body>
</html>
